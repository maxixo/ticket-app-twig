{% extends "layout.twig" %}

{% block title %}Create Ticket - TicketFlow{% endblock %}

{% block content %}
<div style="min-height:100vh;background-color:#f9fafb;">

  <!-- Navbar -->
  <nav style="background:white;box-shadow:0 2px 4px rgba(0,0,0,0.1);border-bottom:1px solid #e5e7eb;">
    <div style="max-width:1200px;margin:0 auto;padding:1rem 1.5rem;display:flex;justify-content:space-between;align-items:center;">
      <h1 style="font-size:1.5rem;font-weight:700;color:#2563eb;">TicketFlow</h1>
      <div style="display:flex;gap:1rem;">
        <a href="/dashboard" 
           style="color:#4b5563;font-weight:600;text-decoration:none;"
           onmouseover="this.style.color='#1f2937';"
           onmouseout="this.style.color='#4b5563';">
           Dashboard
        </a>
        <a href="/auth/logout?redirect=/" 
           style="color:#dc2626;font-weight:600;text-decoration:none;"
           onmouseover="this.style.color='#b91c1c';"
           onmouseout="this.style.color='#dc2626';">
           Logout
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div style="max-width:800px;margin:3rem auto;padding:2rem;background:white;border-radius:1rem;box-shadow:0 4px 8px rgba(0,0,0,0.1);">
    <h2 style="font-size:1.75rem;font-weight:700;margin-bottom:1.5rem;color:#1f2937;text-align:center;">Create New Ticket</h2>

    <form method="POST" action="/tickets/create" style="display:flex;flex-direction:column;gap:1rem;">
      
      <!-- Title -->
      <div>
        <label style="display:block;font-weight:600;color:#374151;margin-bottom:0.25rem;">Title *</label>
        <input type="text" name="title" required minlength="3"
          placeholder="Enter ticket title"
          style="width:100%;padding:0.75rem;border:1px solid #d1d5db;border-radius:0.5rem;font-size:1rem;color:#111827;outline:none;"
          onfocus="this.style.borderColor='#2563eb';"
          onblur="this.style.borderColor='#d1d5db';">
      </div>

      <!-- Description -->
      <div>
        <label style="display:block;font-weight:600;color:#374151;margin-bottom:0.25rem;">Description *</label>
        <textarea name="description" required minlength="3" rows="4"
          placeholder="Describe the issue or request..."
          style="width:100%;padding:0.75rem;border:1px solid #d1d5db;border-radius:0.5rem;font-size:1rem;color:#111827;resize:none;outline:none;"
          onfocus="this.style.borderColor='#2563eb';"
          onblur="this.style.borderColor='#d1d5db';"></textarea>
      </div>

      <!-- Status -->
      <div>
        <label style="display:block;font-weight:600;color:#374151;margin-bottom:0.25rem;">Status *</label>
        <select name="status" required
          style="width:100%;padding:0.75rem;border:1px solid #d1d5db;border-radius:0.5rem;font-size:1rem;color:#111827;background:white;outline:none;"
          onfocus="this.style.borderColor='#2563eb';"
          onblur="this.style.borderColor='#d1d5db';">
          <option value="open">Open</option>
          <option value="in_progress">In Progress</option>
          <option value="closed">Closed</option>
        </select>
      </div>

      <!-- Priority -->
      <div>
        <label style="display:block;font-weight:600;color:#374151;margin-bottom:0.25rem;">Priority *</label>
        <select name="priority" required
          style="width:100%;padding:0.75rem;border:1px solid #d1d5db;border-radius:0.5rem;font-size:1rem;color:#111827;background:white;outline:none;"
          onfocus="this.style.borderColor='#2563eb';"
          onblur="this.style.borderColor='#d1d5db';">
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </div>

      <!-- Buttons -->
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:1.5rem;">
        <a href="/ticket_list" 
           style="background-color:#9ca3af;color:white;padding:0.75rem 1.5rem;border-radius:0.5rem;font-weight:600;text-decoration:none;text-align:center;"
           onmouseover="this.style.backgroundColor='#6b7280';"
           onmouseout="this.style.backgroundColor='#9ca3af';">
           Cancel
        </a>

        <button type="submit"
          style="background-color:#2563eb;color:white;padding:0.75rem 1.5rem;border:none;border-radius:0.5rem;font-weight:600;cursor:pointer;"
          onmouseover="this.style.backgroundColor='#1d4ed8';"
          onmouseout="this.style.backgroundColor='#2563eb';">
          Save Ticket
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
